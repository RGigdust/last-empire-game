<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ğŸ¦ Ø£Ø³Ø¯ Ø§Ù„Ù…Ù„ÙŠÙˆÙ† Ø§Ù„Ø£Ø®ÙŠØ± - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©</title>
    <style>
        body { background: #1a1a1a; color: gold; font-family: 'Arial', sans-serif; text-align: center; margin: 0; padding: 20px; }
        #game-container { max-width: 500px; margin: auto; border: 3px solid gold; padding: 20px; border-radius: 20px; box-shadow: 0 0 20px rgba(255, 215, 0, 0.2); }
        .stat-box { display: flex; justify-content: space-around; background: #333; padding: 15px; border-radius: 10px; margin-bottom: 20px; border: 1px solid #555; }
        .action-btn { background: linear-gradient(to bottom, #ffd700, #ff8c00); color: black; border: none; padding: 15px 25px; font-weight: bold; border-radius: 8px; cursor: pointer; margin: 10px; font-size: 16px; width: 80%; }
        .action-btn:disabled { background: #555; color: #888; cursor: not-allowed; }
        #academy-box { background: #222; border: 2px dashed gold; padding: 15px; margin-top: 20px; border-radius: 10px; }
        #leaderboard-box { background: #111; margin-top: 20px; padding: 10px; border-radius: 10px; text-align: right; }
        #status-msg { color: #00ff00; font-weight: bold; min-height: 25px; margin: 10px 0; }
        .hidden { display: none; }
        input { padding: 10px; border-radius: 5px; border: none; width: 70%; margin-bottom: 10px; text-align: center; }
    </style>
</head>
<body>

    <div id="game-container">
        <h1>ğŸ¦ Ø¹ÙØ±ÙŠÙ† Ø§Ù„Ù…Ù„ÙŠÙˆÙ† Ø§Ù„Ø£Ø®ÙŠØ±</h1>
        
        <div class="stat-box">
            <div>ğŸ’° Ø§Ù„Ø±ØµÙŠØ¯: <span id="balance">0</span> $LAST</div>
            <div>ğŸ† Ø§Ù„Ø±ØªØ¨Ø©: <span id="level-name">Ø´Ø¨Ù„</span></div>
        </div>

        <div id="status-msg">Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø±ÙŠÙ†...</div>

        <div id="controls">
            <button id="dig-btn" class="action-btn" onclick="startDigging()">â›ï¸ Ø§Ø­ÙØ± Ù„Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ÙƒÙ†Ø² (15Ø«)</button>
            <button id="hunt-btn" class="action-btn hidden" onclick="bossFight()">ğŸ— Ù…ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø®Ù†Ø²ÙŠØ± Ø§Ù„Ø²Ø¹ÙŠÙ…</button>
        </div>

        <div id="academy-box">
            <h3>ğŸ¦‰ Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„Ø¨ÙˆÙ…Ø© Ø§Ù„Ø­ÙƒÙŠÙ…Ø©</h3>
            <p id="lesson">Ø´Ø§Ù‡Ø¯ ÙÙŠØ¯ÙŠÙˆ "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù€ Web3" ÙˆØ§ÙƒØªØ¨ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ:</p>
            <input type="text" id="secret-code" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ Ù‡Ù†Ø§...">
            <button onclick="checkAcademyCode()" style="cursor:pointer; background:white; border:none; padding:5px 15px; border-radius:5px;">ØªÙØ¹ÙŠÙ„</button>
        </div>

        <div id="shop">
            <h3>ğŸ›’ Ù…ØªØ¬Ø± Ø§Ù„ØºØ§Ø¨Ø©</h3>
            <button onclick="buyItem('shield', 500)" class="action-btn" style="font-size: 14px; width: auto;">ğŸ›¡ï¸ Ø´Ø±Ø§Ø¡ Ø¯Ø±Ø¹ Ø§Ù„Ø¬Ù„Ø¯ (500 $LAST)</button>
        </div>

        <div id="leaderboard-box">
            <h4>ğŸ† Ø£Ø³ÙŠØ§Ø¯ Ø§Ù„Ù€ $LAST</h4>
            <ul id="leaderboard-list" style="list-style: none; padding: 0;"></ul>
        </div>
    </div>

    <script>
        // 1. Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
        let gameState = {
            balance: 0,
            level: 1, 
            hasShield: false,
            canDig: true
        };

        // 2. Ù†Ø¸Ø§Ù… Ø§Ù„Ø­ÙØ¸ (Local Storage)
        function saveGame() {
            localStorage.setItem('LastLion_Save', JSON.stringify(gameState));
            updateLeaderboard();
        }

        function loadGame() {
            let saved = localStorage.getItem('LastLion_Save');
            if (saved) {
                gameState = JSON.parse(saved);
                document.getElementById('status-msg').innerText = "ØªÙ… Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø°ÙƒØ±ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø¯.. Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ!";
            }
            updateUI();
        }

        // 3. Ù†Ø¸Ø§Ù… Ø§Ù„Ø­ÙØ± (Tab to Earn)
        function startDigging() {
            if (!gameState.canDig) return;
            gameState.canDig = false;
            document.getElementById('dig-btn').disabled = true;
            let timer = 15;
            let interval = setInterval(() => {
                document.getElementById('status-msg').innerText = `â›ï¸ Ø§Ù„Ø£Ø³Ø¯ ÙŠØ­ÙØ± Ø¨Ø¬Ù‡Ø¯... Ø¨Ø§Ù‚ÙŠ ${timer}Ø«`;
                timer--;
                if (timer < 0) {
                    clearInterval(interval);
                    let reward = Math.floor(Math.random() * 40) + 10;
                    gameState.balance += reward;
                    gameState.canDig = true;
                    document.getElementById('dig-btn').disabled = false;
                    document.getElementById('status-msg').innerText = `âœ… ÙˆØ¬Ø¯ Ø§Ù„Ø£Ø³Ø¯ ${reward} Ø¹Ù…Ù„Ø© ÙÙŠ Ø¨Ø§Ø·Ù† Ø§Ù„Ø£Ø±Ø¶!`;
                    saveGame();
                    updateUI();
                }
            }, 1000);
        }

        // 4. Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© (Learn to Earn)
        function checkAcademyCode() {
            let code = document.getElementById('secret-code').value;
            if (code === "LAST2026") {
                if(gameState.level < 2) {
                    gameState.balance += 200;
                    gameState.level = 2;
                    document.getElementById('status-msg').innerText = "ğŸ¦‰ Ù…Ø¨Ø±ÙˆÙƒ! Ù„Ù‚Ø¯ ØªØ¹Ù„Ù…Øª Ø³Ø± Ø§Ù„Ù€ Web3 ÙˆØ§Ø±ØªÙ‚ÙŠØª Ù„Ø´Ø§Ø¨!";
                    saveGame();
                    updateUI();
                } else {
                    alert("Ù„Ù‚Ø¯ Ø§Ø¬ØªØ²Øª Ù‡Ø°Ø§ Ø§Ù„Ø¯Ø±Ø³ Ø¨Ø§Ù„ÙØ¹Ù„!");
                }
            } else {
                alert("Ø§Ù„ÙƒÙˆØ¯ Ø®Ø·Ø£! Ø§Ø¨Ø­Ø« Ø¹Ù†Ù‡ ÙÙŠ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ.");
            }
        }

        // 5. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØªØ¬Ø± ÙˆØ§Ù„Ù‚ØªØ§Ù„ (Play to Earn)
        function buyItem(item, price) {
            if (gameState.balance >= price) {
                gameState.balance -= price;
                if (item === 'shield') gameState.hasShield = true;
                document.getElementById('status-msg').innerText = "ğŸ›¡ï¸ ØªÙ… Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¯Ø±Ø¹ Ø¨Ù†Ø¬Ø§Ø­!";
                saveGame();
                updateUI();
            } else {
                alert("Ø±ØµÙŠØ¯Ùƒ Ù„Ø§ ÙŠÙƒÙÙŠ Ù„Ø´Ø±Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ø¯Ø±Ø¹!");
            }
        }

        function bossFight() {
            if (gameState.hasShield) {
                alert("ğŸ‘‘ Ø¨ÙØ¶Ù„ Ø§Ù„Ø¯Ø±Ø¹ ÙˆØ§Ù„Ø¹Ø²ÙŠÙ…Ø©ØŒ Ù‡Ø²Ù…Øª Ø§Ù„Ø²Ø¹ÙŠÙ… ÙˆØ£ØµØ¨Ø­Øª Ù…ÙÙ„ÙÙƒ Ø§Ù„ØºØ§Ø¨Ø©!");
                gameState.level = 3;
                saveGame();
                updateUI();
            } else {
                alert("ğŸ— Ø§Ù„Ø®Ù†Ø²ÙŠØ± Ø§Ù„Ø²Ø¹ÙŠÙ… Ù‚ÙˆÙŠ Ø¬Ø¯Ø§Ù‹! ØªØ­ØªØ§Ø¬ Ù„Ø¯Ø±Ø¹ Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø± Ù„Ù…ÙˆØ§Ø¬Ù‡ØªÙ‡.");
            }
        }

        // 6. ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ÙˆÙ„ÙˆØ­Ø© Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†
        function updateUI() {
            document.getElementById('balance').innerText = gameState.balance;
            let levels = ["", "Ø´Ø¨Ù„ ØµØ§Ù…Ø¯", "Ø£Ø³Ø¯ Ø´Ø§Ø¨", "Ø§Ù„Ø£Ø³Ø¯ Ø§Ù„Ù…Ù„Ùƒ ğŸ‘‘"];
            document.getElementById('level-name').innerText = levels[gameState.level];
            
            if (gameState.level >= 2) {
                document.getElementById('hunt-btn').classList.remove('hidden');
            }
            updateLeaderboard();
        }

        function updateLeaderboard() {
            let list = document.getElementById('leaderboard-list');
            let dummyLions = [
                {n: "Ø£Ø³Ø¯ Ø§Ù„ØµØ­Ø±Ø§Ø¡", s: 1500},
                {n: "Ø§Ù„Ù…Ø­Ø§Ø±Ø¨ Ø§Ù„Ø±Ù‚Ù…ÙŠ", s: 1200},
                {n: "Ø£Ù†Øª", s: gameState.balance}
            ].sort((a,b) => b.s - a.s);

            list.innerHTML = dummyLions.map((l, i) => 
                `<li style="${l.n === 'Ø£Ù†Øª' ? 'color:gold; font-weight:bold;' : 'color:white'}">#${i+1} ${l.n}: ${l.s} $LAST</li>`
            ).join('');
        }

        window.onload = loadGame;
    </script>
</body>
</html>
